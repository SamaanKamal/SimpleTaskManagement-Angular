<div *ngIf="isLoading" class="spinner">
  <app-loading-spinner></app-loading-spinner>
</div>
<div class="events-container" *ngIf="!isLoading" >
  <h2>Events</h2>
  <ul class="event-list">
    <li *ngFor="let event of events" class="event-item">
      <div class="event-details">
        <h1>event ID: {{ event.eventId }}</h1>
        <h3>Summary: {{ event.summary }}</h3>
        <p><strong>Description:</strong> {{ event.description }}</p>
        <p><strong>Location:</strong> {{ event.location }}</p>
        <p>
          <strong>Start Time:</strong>
          {{ event.startDatetime | date : "medium" }}
        </p>
        <p>
          <strong>End Time:</strong> {{ event.endDatetime | date : "medium" }}
        </p>
        <p><strong>Status:</strong> {{ event.status }}</p>
        <p><strong>Visibility:</strong> {{ event.visibility }}</p>
        <div class="organizer-details">
          <h3>Organizer:</h3>
          <div class="organizer-group">
            <p>
              <strong>Organizer ID:</strong> {{ event.organizer.organizerId }}
            </p>
            <p><strong>Organizer:</strong> {{ event.organizer.displayName }}</p>
            <p><strong>Email:</strong> {{ event.organizer.email }}</p>
          </div>
        </div>
        <div class="creator-details">
          <h3>Creator:</h3>
          <div class="creator-group">
            <p><strong>Creator ID:</strong> {{ event.creator.creatorId }}</p>
            <p><strong>Creator:</strong> {{ event.creator.displayName }}</p>
            <p><strong>Email:</strong> {{ event.creator.email }}</p>
          </div>
        </div>
        <div class="attendees-list">
          <h3>Attendees:</h3>
          <ul>
            <li *ngFor="let attendee of event.attendees">
              <div class="attendee-details">
                <p><strong>Attendee ID:</strong>{{ attendee.attendeeId }}</p>
                <p><strong>Name:</strong> {{ attendee.displayName }}</p>
                <p><strong>Email:</strong> {{ attendee.email }}</p>
                <p>
                  <strong>Response Status:</strong>
                  {{ attendee.responseStatus }}
                </p>
              </div>
            </li>
          </ul>
        </div>
        <div class="attachments-list">
          <h3>Attachments:</h3>
          <ul>
            <li *ngFor="let attachment of event.attachments">
              <div class="attachment-details">
                <p><strong>Attachment ID:</strong>{{ attachment.id }}</p>
                <p><strong>Title:</strong> {{ attachment.title }}</p>
                <p><strong>File URL:</strong> {{ attachment.fileUrl }}</p>
                <p><strong>Mime Type:</strong> {{ attachment.mimetype }}</p>
                <p><strong>Icon Link:</strong> {{ attachment.iconLink }}</p>
              </div>
            </li>
          </ul>
        </div>
        <div class="actions">
          <button
            class="btn btn-light"
            type="button"
            (click)="onEditEvent(event.eventId,event)"
          >
            Edit Event
          </button>
          <button class="btn btn-danger" type="button" (click)="onDeleteEvent(event.eventId)">Delete Event</button>
        </div>
      </div>
    </li>
  </ul>
</div>
